 1. –•–µ–ª–ø–µ—Ä-–∫–æ–º–ø–æ–∑–∏—Ü–∏—é (useFavoriteItem.ts)
–°–æ–∑–¥–∞–π –æ–¥–∏–Ω –ø—Ä–æ—Å—Ç–æ–π composable, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:

ts
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
// composables/useFavoriteItem.ts
import { computed } from "vue";
import { useFavoritesStore } from "@/stores/favorites";

export function useFavoriteItem(id: number) {
  const store = useFavoritesStore();

  const isFavorite = computed(() => store.favorites.includes(id));

  const toggle = () => {
    store.toggleFavorite(id);
  };

  return { isFavorite, toggle };
}

‚úÖ 2. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
ts
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
<script setup>
import { useRoute } from "vue-router";
import { useFavoriteItem } from "@/composables/useFavoriteItem";

const id = Number(useRoute().params.id);
const { isFavorite, toggle } = useFavoriteItem(id);
</script>

<template>
  <button @click="toggle">
    <span v-if="isFavorite">‚ù§Ô∏è</span>
    <span v-else>ü§ç</span>
  </button>
</template>

üìÅ –ì–¥–µ –∏—Ö —Ö—Ä–∞–Ω–∏—Ç—å?
–ü–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É:
/composables/useFavoriteItem.ts

–ò —Ç–æ–≥–¥–∞ Nuxt 3 —Å–∞–º –µ–≥–æ –ø–æ–¥—Ü–µ–ø–∏—Ç (–µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω auto-import), –∏ —Ç—ã –¥–∞–∂–µ –º–æ–∂–µ—à—å –Ω–µ –ø–∏—Å–∞—Ç—å import –≤—Ä—É—á–Ω—É—é.

–ë–µ–∑ composable:
ts
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
const favoritesStore = useFavoritesStore()
const isFavorite = computed(() => favoritesStore.favorites.includes(id))
const toggleFavorite = () => {
  favoritesStore.toggleFavorite(id)
}
–¢—ã –±—É–¥–µ—à—å –ø–∏—Å–∞—Ç—å —ç—Ç–æ —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞ –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö. –ê —ç—Ç–æ —É–∂–µ üôÖ‚Äç‚ôÄÔ∏è

–° composable:
ts
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
import { useFavoriteItem } from "@/composables/useFavoriteItem"
const { isFavorite, toggle } = useFavoriteItem(id)
–ì–æ—Ä–∞–∑–¥–æ —á–∏—â–µ, –¥–∞?

